// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"

}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}
 
enum Role {
   EMPLOYER 
   JOB_SEEKER 
   }

   model User {
     id Int @id @default(autoincrement()) 
     name String 
     email String @unique 
     PhoneNumber String
     password String 
     role Role 
     created_at DateTime @default(now()) 
     jobs Job[]
     applications Applications[]
     }

     enum JobType {
      Full_Time
      Part_Time
      Remote
      Hybrid

     }
       enum ExperienceLevel {
      Internship
      Entry_Level
      Mid_Level
      Senior_Level
     }
       enum Field {
      Tech
      Marketing
      HealthCare
      Industry
      Finance
     }

      model Job {
        id Int @id @default(autoincrement())
        title String
        companyName String
        location String
        salary String
        jobType JobType
        experienceLevel ExperienceLevel
        field Field
        description String
        qualifications String[]
        companyBackground String
        image String
        createdAt DateTime @default(now())
        employerId Int
        employer User @relation(fields: [employerId], references: [id])
        applications Applications[]
      }
    
    model Applications {
      id Int @id @default(autoincrement())
      name String
      email String 
      PhoneNumber String
      address String
      coverLetter String
      resume String
      applicantId Int
      applicant User @relation(fields: [applicantId], references: [id])
      jobId Int 
      job Job @relation(fields: [jobId], references: [id])

       createdAt     DateTime @default(now())

    }
